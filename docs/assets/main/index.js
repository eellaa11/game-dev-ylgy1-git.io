System.register("chunks:///_virtual/Block.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Enum.ts","./Event.ts","./DataManager.ts"],(function(t){var e,i,n,o,s,h,r,d,c,a,l,u,T,p,f,E,_,v,y,C;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,o=t.assertThisInitialized,s=t.createClass},function(t){h=t.cclegacy,r=t._decorator,d=t.SpriteAtlas,c=t.UITransform,a=t.Sprite,l=t.Input,u=t.Component},function(t){T=t.GAME_BOARD_ENUM,p=t.GAME_EVENT_ENUM,f=t.GAME_STATE_ENUM,E=t.AUDIO_EFFECT_ENUM},function(t){_=t.CHECK_CLEAR,v=t.PLAY_AUDIO,y=t.CHANGE_BOARD},function(t){C=t.DataManager}],execute:function(){var b,g,A,O,I;h._RF.push({},"2fecdrgmS9B9JQJL2F0MQp1","Block",void 0);var L=r.ccclass,S=r.property;t("Block",(b=L("Block"),g=S(d),b((I=e((O=function(t){function e(){for(var e,i=arguments.length,s=new Array(i),h=0;h<i;h++)s[h]=arguments[h];return(e=t.call.apply(t,[this].concat(s))||this).id=void 0,e.x=void 0,e.y=void 0,e.width=void 0,e.height=void 0,e.level=void 0,e._boardType=void 0,e.type=void 0,e.higherIds=void 0,e.lowerIds=void 0,n(e,"spriteAtlas",I,o(e)),e.old_boardType=void 0,e.old_x=void 0,e.old_y=void 0,e.old_width=void 0,e.old_height=void 0,e.old_level=void 0,e._touchEnabled=!1,e}i(e,t);var h=e.prototype;return h.inti=function(t){Object.assign(this,t),C.instance.blocks.push(this),this.old_boardType=t.boardType,this.old_x=t.x,this.old_y=t.y,this.old_width=t.width,this.old_height=t.height,this.old_level=t.level,this.rendor()},h.rendor=function(){this.node.setPosition(this.x,this.y,0),this.node.getComponent(c).width=this.width,this.node.getComponent(c).height=this.height,this.node.setSiblingIndex(this.level),this.node.getComponent(a).spriteFrame=this.spriteAtlas.getSpriteFrames()[this.type];var t=this.clickable();this.node.getChildByName("bg").active=!t,this.updateTouchEnabled(t)},h.updateTouchEnabled=function(t){t!==this._touchEnabled&&(this._touchEnabled=t,t?(this.node.on(l.EventType.TOUCH_START,this.onTouchStart,this),this.node.on(l.EventType.TOUCH_END,this.onTouchEnd,this),this.node.on(l.EventType.TOUCH_CANCEL,this.onTouchEnd,this)):(this.node.off(l.EventType.TOUCH_START,this.onTouchStart,this),this.node.off(l.EventType.TOUCH_END,this.onTouchEnd,this),this.node.off(l.EventType.TOUCH_CANCEL,this.onTouchEnd,this)))},h.clickable=function(){switch(this.boardType){case T.LEVEL:return!!C.instance.clickable||this.higherIds.length<=0;case T.RANDOM_LEFT:case T.RANDOM_RIGHT:return this.higherIds.length<=0;case T.LEVEL_EXTEND:return!0;default:return!1}},h.toSlot=function(){var t=this;this.lowerIds.forEach((function(e){var i=C.instance.blocks.find((function(t){return t.id==e}));i.higherIds.findIndex((function(e){return e==t.id}))>=0&&i.higherIds.splice(i.higherIds.findIndex((function(e){return e==t.id})),1),i.rendor()})),C.instance.records.findIndex((function(e){return e.id==t.id}))<0&&C.instance.records.push(this),this.level=0,this.y=0,this.boardType=T.SLOT;var e=C.instance.blocks.filter((function(t){return t.boardType==T.SLOT})),i=C.instance.blocks.filter((function(e){return e.boardType==T.SLOT&&e.type==t.type})),n=0;e.forEach((function(t){t.level>n&&(n=t.level)})),i.forEach((function(t){t.level=n+1,t.rendor()})),_.emit(p.CHECK_CLEAR,this)},h.toSlotCancel=function(){},h.onLoad=function(){},h.onTouchStart=function(){C.instance.gameStatus==f.RUNNING&&this.clickable()&&(v.emit(p.PLAY_AUDIO,E.CLICKBOLCK),this.toSlot())},h.onTouchEnd=function(){},h.onDestroy=function(){this.node.off(l.EventType.TOUCH_START,this.onTouchStart,this),this.node.off(l.EventType.TOUCH_END,this.onTouchEnd,this),this.node.off(l.EventType.TOUCH_CANCEL,this.onTouchEnd,this)},s(e,[{key:"boardType",get:function(){return this._boardType},set:function(t){this.boardType!=t&&(this._boardType=t,y.emit(p.CHANGE_BOARD,this))}}]),e}(u)).prototype,"spriteAtlas",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=O))||A));h._RF.pop()}}}));

System.register("chunks:///_virtual/DataManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Enum.ts"],(function(t){var e,n,s,i,a;return{setters:[function(t){e=t.createClass},function(t){n=t.cclegacy,s=t._decorator,i=t.sys},function(t){a=t.GAME_STATE_ENUM}],execute:function(){var r,l;n._RF.push({},"ec70e5OA+9JaLd14Wp0ritr","DataManager",void 0);var c=s.ccclass,u=(s.property,"SHEEP_STORAGE_KEY");t("DataManager",c("DataManager")(((l=function(){function t(){this._level=1,this.blocks=[],this.records=[],this.currentLevel=null,this.gameStatus=a.INIT,this.clickable=!1}t.getInstance=function(){return null==this._instance&&(this._instance=new this),this._instance};var n=t.prototype;return n.reset=function(){this.blocks=[],this.records=[],this.currentLevel=null,this.gameStatus=a.INIT,this.clickable=!1},n.save=function(){i.localStorage.setItem(u,JSON.stringify({level:this.level}))},n.resotre=function(){var t=i.localStorage.getItem(u);try{var e=JSON.parse(t);this.level=(null==e?void 0:e.level)||1}catch(t){this.level=1,this.reset()}},e(t,[{key:"level",get:function(){return this._level},set:function(t){this._level=t,this.save()}}],[{key:"instance",get:function(){return this.getInstance()}}]),t}())._instance=null,r=l))||r);n._RF.pop()}}}));

System.register("chunks:///_virtual/Enum.ts",["cc"],(function(E){var L;return{setters:[function(E){L=E.cclegacy}],execute:function(){L._RF.push({},"e6d27Crx3pES6HBDr+Qn4ns","Enum",void 0);E("GAME_STATE_ENUM",function(E){return E[E.INIT=0]="INIT",E[E.RUNNING=1]="RUNNING",E[E.CLEAR=2]="CLEAR",E[E.LOSED=3]="LOSED",E[E.COMPLETE=4]="COMPLETE",E}({})),E("GAME_BOARD_ENUM",function(E){return E.LEVEL="LEVEL",E.LEVEL_EXTEND="LEVEL_EXTEND",E.RANDOM_LEFT="RANDOM_LEFT",E.RANDOM_RIGHT="RANDOM_RIGHT",E.SLOT="SLOT",E.HIDE="HIDE",E}({})),E("GAME_EVENT_ENUM",function(E){return E.CHECK_CLEAR="CHECK_CLEAR",E.CHECK_LOSED="CHECK_LOSED",E.CHECK_COMPLETE="CHECK_COMPLETE",E.CHANGE_BOARD="CHANGE_BOARD",E.PLAY_AUDIO="PLAY_AUDIO",E.PLAY_BOOM="PLAY_BOOM",E.RUNNING="RUNNING",E}({})),E("AUDIO_EFFECT_ENUM",function(E){return E[E.CLICKBUTTON=0]="CLICKBUTTON",E[E.CLEAR=1]="CLEAR",E[E.CLICKBOLCK=2]="CLICKBOLCK",E[E.LOSE=3]="LOSE",E[E.WIN=4]="WIN",E}({})),E("GAME_SCENE_ENUM",function(E){return E.MENU="Menu",E.GAME="Game",E}({}));L._RF.pop()}}}));

System.register("chunks:///_virtual/Event.ts",["cc"],(function(e){var n,t;return{setters:[function(e){n=e.cclegacy,t=e.EventTarget}],execute:function(){n._RF.push({},"116e44zPMZHlpKnONnbzzfx","Event",void 0);e("CHANGE_BOARD",new t),e("CHECK_CLEAR",new t),e("CHECK_LOSED",new t),e("CHECK_COMPLETE",new t),e("PLAY_AUDIO",new t),e("PLAY_BOOM",new t);n._RF.pop()}}}));

System.register("chunks:///_virtual/GameManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Event.ts","./Enum.ts","./DataManager.ts","./Level.ts","./Utils.ts","./Block.ts"],(function(e){var t,o,n,a,r,i,l,s,c,d,u,h,m,f,b,N,v,p,C,g,E,L,y,k,R,A,M,T,_;return{setters:[function(e){t=e.applyDecoratedDescriptor,o=e.inheritsLoose,n=e.initializerDefineProperty,a=e.assertThisInitialized},function(e){r=e.cclegacy,i=e._decorator,l=e.Node,s=e.Prefab,c=e.Label,d=e.director,u=e.Animation,h=e.find,m=e.instantiate,f=e.math,b=e.Component},function(e){N=e.CHANGE_BOARD,v=e.CHECK_CLEAR,p=e.CHECK_LOSED,C=e.CHECK_COMPLETE,g=e.PLAY_AUDIO},function(e){E=e.GAME_SCENE_ENUM,L=e.GAME_EVENT_ENUM,y=e.GAME_STATE_ENUM,k=e.AUDIO_EFFECT_ENUM,R=e.GAME_BOARD_ENUM},function(e){A=e.DataManager},function(e){M=e.levels},function(e){T=e.shuffle},function(e){_=e.Block}],execute:function(){var B,O,S,H,I,P,D,G,w,U,x,K,z,W,Y,F,V,j,q,X,Z,J,Q;r._RF.push({},"6013d4vZURGP7MHsC7um/B8","GameManager",void 0);var $=i.ccclass,ee=i.property;e("GameManager",(B=$("GameManager"),O=ee(l),S=ee(l),H=ee(l),I=ee(l),P=ee(l),D=ee(l),G=ee(s),w=ee(c),U=ee(l),x=ee(l),B((W=t((z=function(e){function t(){for(var t,o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];return t=e.call.apply(e,[this].concat(r))||this,n(t,"boardLevelNode",W,a(t)),n(t,"boardLevelExtendNode",Y,a(t)),n(t,"boardRandomLeftNode",F,a(t)),n(t,"boardRandomRightNode",V,a(t)),n(t,"boardSlotNode",j,a(t)),n(t,"boardHideNode",q,a(t)),n(t,"blockPrefab",X,a(t)),n(t,"titlelabel",Z,a(t)),n(t,"gameOverNode",J,a(t)),n(t,"gameCompleteNode",Q,a(t)),t}o(t,e);var r=t.prototype;return r.onLoad=function(){d.preloadScene(E.MENU),N.on(L.CHANGE_BOARD,this.onBoardChange,this),v.on(L.CHECK_CLEAR,this.onClearCheck,this),p.on(L.CHECK_LOSED,this.onLosedCheck,this),C.on(L.CHECK_COMPLETE,this.onCompleteCheck,this),this.gameStart()},r.gameStart=function(){A.instance.resotre(),this.initGame(A.instance.level),A.instance.gameStatus=y.RUNNING},r.onGameReset=function(){g.emit(L.PLAY_AUDIO,k.CLICKBUTTON),this.gameOverNode.active=!1,this.gameCompleteNode.active=!1,A.instance.level=1,A.instance.reset(),this.gameStart()},r.onGameNext=function(){g.emit(L.PLAY_AUDIO,k.CLICKBUTTON),this.gameCompleteNode.active=!1,this.gameOverNode.active=!1,A.instance.level+=1,A.instance.reset(),this.gameStart()},r.onGameExtend=function(){},r.onGameUndo=function(){},r.onGameShuffle=function(){},r.onClickable=function(){},r.onBoardChange=function(e){var t=this.boardLevelNode;e.boardType==R.SLOT&&(t=this.boardSlotNode),e.boardType==R.RANDOM_LEFT&&(t=this.boardRandomLeftNode),e.boardType==R.RANDOM_RIGHT&&(t=this.boardRandomRightNode),e.boardType==R.LEVEL_EXTEND&&(t=this.boardLevelExtendNode),e.boardType==R.HIDE&&(t=this.boardHideNode),e.node.setParent(t)},r.onClearCheck=function(e){var t=this,o=A.instance.blocks.filter((function(e){return e.boardType==R.SLOT})),n=o.filter((function(t){return t.type==e.type}));n.length>=A.instance.currentLevel.clearbaleNum?(A.instance.gameStatus=y.CLEAR,g.emit(L.PLAY_AUDIO,k.CLEAR),n.forEach((function(e){A.instance.records.findIndex((function(t){return t.id==e.id}))>=0&&(console.log("删除记录"),A.instance.records.splice(A.instance.records.findIndex((function(t){return t.id==e.id})),1));var o=e.node.getComponent(u);o.off(u.EventType.PLAY,t.onClearPlay,e),o.on(u.EventType.PLAY,t.onClearPlay,e),o.off(u.EventType.STOP,t.onClearStop,e),o.on(u.EventType.STOP,t.onClearStop,e),o.play()}))):o.length>=A.instance.currentLevel.slotNum&&(console.log("游戏结束"),p.emit(L.CHECK_LOSED,this),v.emit(L.CHECK_LOSED,this))},r.onLosedCheck=function(){g.emit(L.PLAY_AUDIO,k.LOSE),A.instance.gameStatus=y.LOSED,this.gameOverNode.active=!0},r.onCompleteCheck=function(){g.emit(L.PLAY_AUDIO,k.WIN),A.instance.gameStatus=y.COMPLETE,this.gameCompleteNode.active=!0,h("Canvas/GameComplete/Panel/Restart").active=A.instance.level>=M.length,h("Canvas/GameComplete/Panel/Next").active=A.instance.level<M.length},r.onBackMenu=function(){},r.onClearPlay=function(){this.node.getChildByName("bg").active=!1},r.onClearStop=function(){this.node.getChildByName("bg").active=!0,this.node.getComponent(_).boardType=R.HIDE,A.instance.blocks.filter((function(e){return e.boardType!=R.HIDE})).length<=0?C.emit(L.CHECK_COMPLETE,this):(A.instance.gameStatus=y.RUNNING,console.log("游戏继续"))},r.initChessBox=function(e,t){for(var o=new Array(e),n=0;n<e;n++){o[n]=new Array(t);for(var a=0;a<t;a++)o[n][a]={blocks:[]}}return o},r.initGame=function(e){var t=this,o=M[e-1];if(!o){if(!M)return;e=1,A.instance.level=e,o=M[0]}A.instance.currentLevel=o,this.titlelabel.string="第 "+e+"关";var n=o.clearbaleNum*o.blockTypeNum,a=o.leftRandomBlockNum+o.rightRandomBlockNum+o.lecelNum*o.levelBlockNum;a%n!=0&&(a=(Math.floor(a/n)+1)*n);for(var r=[],i=o.blockTypeArray.slice(0,o.blockTypeNum),l=0;l<a;l++)r.push(i[l%o.blockTypeNum]);r=T(r),console.log(r);for(var s=[],c=0;c<a;c++)s.push({id:c,x:null,y:null,width:3*o.chessItemWidth,height:3*o.chessItemHeight,level:0,boardType:null,type:r[c],higherIds:[],lowerIds:[]});for(var d=0,u=0;u<o.leftRandomBlockNum;u++){var h=m(this.blockPrefab);h.setParent(this.boardRandomLeftNode),s[d].boardType=R.RANDOM_LEFT,s[d].x-=5*u,s[d].y=0,s[d].level-=u+10;for(var b=d-1;b>=0;)s[d].higherIds.push(b),b--;for(var N=d+1;N<o.leftRandomBlockNum;)s[d].lowerIds.push(N),N++;h.getComponent(_).inti(s[d]),d++}for(var v=0;v<o.rightRandomBlockNum;v++){var p=m(this.blockPrefab);p.setParent(this.boardRandomRightNode),s[d].boardType=R.RANDOM_RIGHT,s[d].x+=5*v,s[d].y=0,s[d].level-=v+10;for(var C=d-1;C>=o.leftRandomBlockNum;)s[d].higherIds.push(C),C--;for(var g=d+1;g<o.leftRandomBlockNum+o.rightRandomBlockNum;)s[d].lowerIds.push(g),g++;p.getComponent(_).inti(s[d]),d++}var E=!0;0==o.leftRandomBlockNum&&0==o.rightRandomBlockNum&&o.levelBlockNum%o.clearbaleNum==0&&o.lecelNum*o.levelBlockNum%(o.clearbaleNum*o.blockTypeNum)==0&&o.levelBlockNum<=16&&(E=!1),this.clearNodeHistoy();for(var L=this.initChessBox(o.chessWidthNum,o.chessHeightNum),y=[],k=a-o.leftRandomBlockNum-o.rightRandomBlockNum,B=0,O=o.chessWidthNum-2,S=0,H=o.chessHeightNum-2,I=0;I<o.lecelNum;I++){var P=Math.min(o.levelBlockNum,k);if(o.lecelNum,o.lecelNum-1==I&&(P=k),o.blockBorderStep>0&&I>0)switch(I%4){case 0:B+=o.blockBorderStep;break;case 3:O-=o.blockBorderStep;break;case 2:S+=o.blockBorderStep;break;case 1:H-=o.blockBorderStep}var D=s.slice(d,d+P);d+=P;for(var G=new Set,w=0;w<P;w++){var U,x,K=D[w],z=void 0,W=void 0,Y=void 0;if(E){if(Y=(z=Math.floor(f.random()*(O-B+1)+B))+"_"+(W=Math.floor(f.random()*(H-S+1)+S)),G.has(Y))for(;Y=(z=Math.floor(f.random()*(O-B+1)+B))+"_"+(W=Math.floor(f.random()*(H-S+1)+S)),G.has(Y););}else{var F=Math.floor(Math.sqrt(o.levelBlockNum));z=w%F*4+Math.floor((o.chessWidthNum-3*F)/2),F%2==0&&(z-=1),W=5*Math.floor(w/F)+I,Y=z+"_"+(W=5*Math.floor(w/F)+I)}null==L||null==(U=L[z])||null==(U=U[W])||null==(U=U.block)||U.push(K),null==L||null==(x=L[z])||null==(x=x[W])||null==(x=x.blocks)||x.push(K),G.add(Y);for(var V=Math.max(z-2,0),j=Math.max(W-2,0),q=Math.min(z+2,O),X=Math.min(W+2,H),Z=0,J=V;J<=q;J++)for(var Q=j;Q<=X;Q++){var $=L[J][Q].blocks;if($.length>0){var ee=$[$.length-1];if(ee.id===K.id)continue;Z=Math.max(Z,ee.level),K.lowerIds.push(ee.id),ee.higherIds.push(K.id)}}K.boardType=R.LEVEL,K.level=Z+1,K.x=z*o.chessItemWidth,K.y=W*o.chessItemHeight}if(y.push.apply(y,D),(k-=P)<=0)break}y.forEach((function(e){m(t.blockPrefab).getComponent(_).inti(e)}));var te=o.chessItemWidth*o.chessWidthNum/2*-1+o.chessWidthNum,oe=o.chessItemHeight*o.chessHeightNum/2-300;this.boardLevelNode.setPosition(te,oe)},r.clearNodeHistoy=function(){this.boardHideNode.removeAllChildren(),this.boardLevelExtendNode.removeAllChildren(),this.boardLevelNode.removeAllChildren(),this.boardRandomLeftNode.removeAllChildren(),this.boardRandomRightNode.removeAllChildren(),this.boardSlotNode.removeAllChildren(),this.boardHideNode.removeAllChildren()},r.onDestroy=function(){N.off(L.CHANGE_BOARD,this.onBoardChange,this),v.off(L.CHECK_CLEAR,this.onClearCheck,this),p.off(L.CHECK_LOSED,this.onLosedCheck,this),C.off(L.CHECK_COMPLETE,this.onCompleteCheck,this)},t}(b)).prototype,"boardLevelNode",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Y=t(z.prototype,"boardLevelExtendNode",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=t(z.prototype,"boardRandomLeftNode",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=t(z.prototype,"boardRandomRightNode",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=t(z.prototype,"boardSlotNode",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=t(z.prototype,"boardHideNode",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),X=t(z.prototype,"blockPrefab",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Z=t(z.prototype,"titlelabel",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),J=t(z.prototype,"gameOverNode",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Q=t(z.prototype,"gameCompleteNode",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),K=z))||K));r._RF.pop()}}}));

System.register("chunks:///_virtual/Level.ts",["cc"],(function(e){var c;return{setters:[function(e){c=e.cclegacy}],execute:function(){c._RF.push({},"d69b0NPaHtAvYWV5Favt/sh","Level",void 0);var l=[0,1,2,4,5,6,7,8,9,10,11,12,13];e("levels",[{chessWidthNum:20,chessHeightNum:20,chessItemWidth:22,chessItemHeight:22,slotNum:7,clearbaleNum:3,leftRandomBlockNum:0,rightRandomBlockNum:0,lecelNum:2,levelBlockNum:9,blockTypeNum:3,blockBorderStep:1,blockTypeArray:l},{chessWidthNum:20,chessHeightNum:20,chessItemWidth:22,chessItemHeight:22,slotNum:7,clearbaleNum:3,leftRandomBlockNum:4,rightRandomBlockNum:4,lecelNum:4,levelBlockNum:9,blockTypeNum:6,blockBorderStep:1,blockTypeArray:l}]);c._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./Block.ts","./DataManager.ts","./Enum.ts","./Event.ts","./GameManager.ts","./Level.ts","./MenuManager.ts","./MusicManager.ts","./SheepMove.ts","./Utils.ts"],(function(){return{setters:[null,null,null,null,null,null,null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/MenuManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Enum.ts","./Event.ts"],(function(n){var e,t,o,r,a,c,u,i,s;return{setters:[function(n){e=n.inheritsLoose},function(n){t=n.cclegacy,o=n._decorator,r=n.director,a=n.Component},function(n){c=n.GAME_SCENE_ENUM,u=n.GAME_EVENT_ENUM,i=n.AUDIO_EFFECT_ENUM},function(n){s=n.PLAY_AUDIO}],execute:function(){var E;t._RF.push({},"eaa2f9iOC5Kj6f1yc3XhEbk","MenuManager",void 0);var M=o.ccclass;o.property,n("MenuManager",M("MenuManager")(E=function(n){function t(){return n.apply(this,arguments)||this}e(t,n);var o=t.prototype;return o.onLoad=function(){r.preloadScene(c.GAME)},o.onGameStart=function(){s.emit(u.PLAY_AUDIO,i.CLICKBUTTON),r.loadScene(c.GAME)},t}(a))||E);t._RF.pop()}}}));

System.register("chunks:///_virtual/MusicManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Enum.ts","./Event.ts"],(function(i){var e,t,n,o,r,a,u,c,l,s,h,p,d,f;return{setters:[function(i){e=i.applyDecoratedDescriptor,t=i.inheritsLoose,n=i.initializerDefineProperty,o=i.assertThisInitialized},function(i){r=i.cclegacy,a=i._decorator,u=i.AudioClip,c=i.AudioSource,l=i.director,s=i.Director,h=i.Component},function(i){p=i.GAME_EVENT_ENUM,d=i.AUDIO_EFFECT_ENUM},function(i){f=i.PLAY_AUDIO}],execute:function(){var S,b,y,g,m,E,A,_,k,B,L,T,M,N,O,C,w;r._RF.push({},"8e958ZtSlhITKjWyZsEcHKI","MusicManager",void 0);var U=a.ccclass,v=a.property;i("MusicManager",(S=U("MusicManager"),b=v(u),y=v(u),g=v(u),m=v(u),E=v(u),A=v(u),_=v(c),S((L=e((B=function(i){function e(){for(var e,t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];return e=i.call.apply(i,[this].concat(r))||this,n(e,"clickBUTTON",L,o(e)),n(e,"clear",T,o(e)),n(e,"clickBlock",M,o(e)),n(e,"lose",N,o(e)),n(e,"win",O,o(e)),n(e,"gameBgm",C,o(e)),n(e,"audioSource",w,o(e)),e.mainBgm=void 0,e}t(e,i);var r=e.prototype;return r.onLoad=function(){l.addPersistRootNode(this.node),l.on(s.EVENT_AFTER_SCENE_LAUNCH,this.onSceneLaunched,this),f.on(p.PLAY_AUDIO,this.onAudioPlay,this)},r.start=function(){},r.update=function(i){},r.onSceneLaunched=function(){var i,e=null==(i=l.getScene())?void 0:i.name;this.updateBackGroundMusic(e)},r.updateBackGroundMusic=function(i){"Main"==i?(this.audioSource.stop(),this.audioSource.clip=this.mainBgm):"Gamr"==i&&(this.audioSource.stop(),this.audioSource.clip=this.gameBgm),this.audioSource.clip&&this.audioSource.play()},r.onAudioPlay=function(i){switch(i){case d.CLICKBUTTON:this.audioSource.playOneShot(this.clickBUTTON);break;case d.CLEAR:this.audioSource.playOneShot(this.clear);break;case d.CLICKBOLCK:this.audioSource.playOneShot(this.clickBlock);break;case d.LOSE:this.audioSource.playOneShot(this.lose);break;case d.WIN:this.audioSource.playOneShot(this.win)}},r.onDestroy=function(){l.off(s.EVENT_AFTER_SCENE_LAUNCH,this.onSceneLaunched,this),f.off(p.PLAY_AUDIO,this.onAudioPlay,this)},e}(h)).prototype,"clickBUTTON",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=e(B.prototype,"clear",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=e(B.prototype,"clickBlock",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=e(B.prototype,"lose",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=e(B.prototype,"win",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=e(B.prototype,"gameBgm",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=e(B.prototype,"audioSource",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=B))||k));r._RF.pop()}}}));

System.register("chunks:///_virtual/SheepMove.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,n,o,i,r,s,a,c,l;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,o=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){r=e.cclegacy,s=e._decorator,a=e.Node,c=e.Component,l=e.tween}],execute:function(){var u,p,h,v,f;r._RF.push({},"fbdbd3FIidLrYKSCcDAdNDX","SheepMove",void 0);var d=s.ccclass,g=s.property;e("SheepMove",(u=d("SheepMove"),p=g([a]),u((f=t((v=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return t=e.call.apply(e,[this].concat(r))||this,o(t,"movePointsTrans",f,i(t)),t}n(t,e);var r=t.prototype;return r.start=function(){this.movePointsTrans.length>0&&this.moveAlongPath()},r.moveAlongPath=function(){var e=this,t=this.movePointsTrans.map((function(e){return e.getPosition()})),n=0;!function o(){var i=t[n];n=(n+1)%t.length,l(e.node).to(1,{position:i},{easing:"sineInOut"}).call(o).start()}()},r.update=function(e){this.node.position.y>=0?this.node.setScale(-1,1,1):this.node.setScale(1,1,1)},t}(c)).prototype,"movePointsTrans",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),h=v))||h));r._RF.pop()}}}));

System.register("chunks:///_virtual/Utils.ts",["cc"],(function(t){var r,c;return{setters:[function(t){r=t.cclegacy,c=t._decorator}],execute:function(){t("shuffle",(function(t){var r,c,e=t.length;for(;e;)r=Math.floor(Math.random()*e--),c=t[r],t[r]=t[e],t[e]=c;return t})),r._RF.push({},"146e6jKLclCDpBEMvaPwJak","Utils",void 0);c.ccclass,c.property;r._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});